<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TestURTutor: Select your subjects</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="subjects-container">
      <div class="subject-intro">
        Select the subjects you would like to test yourself for?
      </div>
      <div class="subject">
        <input type="checkbox" id="Maths" name="tabs" checked />
        <label for="Maths">Maths</label>
      </div>

      <div class="subject">
        <input type="checkbox" id="Science" name="tabs" />
        <label for="Science">Science</label>
      </div>

      <div class="subject">
        <input type="checkbox" id="Physics" name="tabs" />
        <label for="Physics">Physics</label>
      </div>

      <div class="subject">
        <input type="checkbox" id="Biology" name="tabs" />
        <label for="Biology">Biology</label>
      </div>

      <div class="subject">
        <input type="checkbox" id="Chemistry" name="tabs" />
        <label for="Chemistry">Chemistry</label>
      </div>
    </div>
    <div class="button-container">
      <input
        type="button"
        value="Take Test"
        class="btn TakeTestBtn"
        id="takeTestButton"
      />
    </div>
    <!-- Modal -->
    <div id="myModal" class="modal">
      <div class="modal-content">
        <p>
          You will get 2 minutes to answer the question. The timer will start as
          soon as you click 'yes'. Would you like to proceed with the test?
        </p>
        <div class="modal-buttons">
          <button id="yesButton">Yes</button>
          <button id="noButton">No</button>
        </div>
      </div>
    </div>
    <script src="script.js"></script>
    <script>
      
        const openModal = () => {
          const modal = document.getElementById("myModal");
          modal.style.display = "block";
        };
      
        // Event listener for "Take Test" button
        const takeTestButton = document.getElementById("takeTestButton");
        takeTestButton.addEventListener("click", openModal);
      
        // Event listener for "Yes" button in modal
        const yesButton = document.getElementById("yesButton");
        yesButton.addEventListener("click", () => {
          // Redirect to subject.html
          window.location.href = "question.html";
        });
      
    
      </script>      
  </body>
</html>

<!-- //  var modal = document.getElementById("myModal");
      // var yesButton = document.getElementById("yesButton");
      // var noButton = document.getElementById("noButton");
      // var takeTestButton = document.getElementById("takeTestButton");

      // // Open modal when "Take Test" button is clicked
      // takeTestButton.addEventListener("click", function() {
      //     modal.style.display = "block";
      // });

      // // Close modal and handle user response
      // yesButton.addEventListener("click", function() {
      //     // Record audio for 2 minutes
      //     startRecording();
      //     // Redirect to question.html
      //     window.location.href = "question.html";

      // });

      // noButton.addEventListener("click", function() {
      //     alert("You chose not to proceed with the test.");
      //     modal.style.display = "none";
      // });

      // // Function to start recording audio
      // function startRecording() {
      //     navigator.mediaDevices.getUserMedia({ audio: true })
      //         .then(function(stream) {
      //             var mediaRecorder = new MediaRecorder(stream);
      //             var chunks = [];

      //             mediaRecorder.ondataavailable = function(event) {
      //                 chunks.push(event.data);
      //             }

      //             mediaRecorder.onstop = function() {
      //                 var blob = new Blob(chunks, { 'type' : 'audio/ogg; codecs=opus' });
      //                 var url = window.URL.createObjectURL(blob);

      //                 // Download the audio file
      //                 var a = document.createElement('a');
      //                 a.href = url;
      //                 a.download = 'recorded_audio.ogg';
      //                 document.body.appendChild(a);
      //                 a.click();
      //             }

      //             // Start recording for 2 minutes
      //             mediaRecorder.start();
      //             setTimeout(function() {
      //                 mediaRecorder.stop();
      //             }, 120000); // 2 minutes
      //         })
      //         .catch(function(err) {
      //             console.error('Error accessing microphone: ', err);
      //             alert('Error accessing microphone. Please check permissions and try again.');
      //         });
      // } -->
